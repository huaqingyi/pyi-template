{"version":3,"sources":["controllers/test.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,6BAIa;AACb,2DAAuD;AACvD,qDAAiD;AACjD,sDAAkD;AAClD,6CAA2D;AAE3D,MAAM,GAAG,GAAG,kBAAI,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;AAGrC,IAAa,cAAc,GAA3B,MAAa,cAAe,SAAQ,mBAAa;IAStC,KAAK,CAAC,IAAI;QACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACxB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;QAC1C,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC;QACtB,OAAO,GAAG,CAAC;IACf,CAAC;IAKM,KAAK;QACR,OAAO,kBAAY,CAAC,KAAM,SAAQ,eAAyB;YAChD,KAAK,CAAC,MAAM;gBACf,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;gBACvC,OAAO,UAAU,CAAC;YACtB,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;IAUM,KAAK,CACkB,KAAe;QAEzC,OAAO,kBAAY,CAAC,KAAM,SAAQ,eAAyB;YAChD,KAAK,CAAC,MAAM;gBACf,OAAO,UAAU,CAAC;YACtB,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;CACJ,CAAA;AA3CG;IADC,iBAAW;8BACK,0BAAW;+CAAC;AAM7B;IAJC,oBAAc,CAAC;QACZ,MAAM,EAAE,OAAO;QACf,OAAO,EAAE,CAAC,0BAAoB,CAAC,GAAG,CAAC;KACtC,CAAC;;;;0CAOD;AAKD;IAHC,oBAAc,CAAC;QACZ,MAAM,EAAE,QAAQ;KACnB,CAAC;;;oCACc,0BAAW;2CAO1B;AAUD;IARC,oBAAc,CAAC;QACZ,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAE,CAAC,0BAAoB,CAAC,IAAI,CAAC;KACvC,CAAC;IACD,qBAAO,CAAC,0BAAoB,CAAC,IAAI,EAAE,QAAQ,CAAC;IAC5C,qBAAO,CAAC,uBAAuB,CAAC;IAChC,kBAAI,CAAE,oBAAgB,CAAC,eAAe,CAAC;IACvC,GAAG;IAEC,WAAA,UAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAA;;qCAAQ,oBAAQ;oCAC1C,0BAAW;2CAMb;AA7CQ,cAAc;IAD1B,gBAAU;GACE,cAAc,CA8C1B;AA9CY,wCAAc","file":"../../controllers/test.controller.js","sourcesContent":["import { \n    Controller, PYIController, RequestMapping, \n    autoconnect, RequestMappingMethod, \n    Body, PYIExecption, PYIThrows \n} from 'pyi';\nimport { TestService } from '../services/test.service';\nimport { LoginDao } from '../dao/test/login.dao';\nimport { ResponseDto } from '../dto/response.dto';\nimport { tags, request, summary, body } from 'pyi-swagger';\n\nconst tag = tags(['TestController']);\n\n@Controller\nexport class TestController extends PYIController {\n\n    @autoconnect\n    public service!: TestService;\n\n    @RequestMapping({\n        prefix: '/test',\n        methods: [RequestMappingMethod.GET]\n    })\n    public async test() {\n        this.logger.error(1111);\n        console.log(111);\n        console.log(await this.service.findAll());\n        throw new Error('测试');\n        return 111;\n    }\n\n    @RequestMapping({\n        prefix: '/error'\n    })\n    public error(): ResponseDto {\n        return PYIExecption(class extends PYIThrows<TestController> {\n            public async throws(this: TestController) {\n                console.log(await this.service.test());\n                return 'test ...';\n            }\n        });\n    }\n\n    @RequestMapping({\n        prefix: '/login',\n        methods: [RequestMappingMethod.POST]\n    })\n    @request(RequestMappingMethod.POST, '/login')\n    @summary('login user auth jwt .')\n    @body((LoginDao as any).swaggerDocument)\n    @tag\n    public login(\n        @Body({ validate: true }) login: LoginDao\n    ): ResponseDto {\n        return PYIExecption(class extends PYIThrows<TestController> {\n            public async throws(this: TestController) {\n                return 'test ...';\n            }\n        });\n    }\n}\n"]}